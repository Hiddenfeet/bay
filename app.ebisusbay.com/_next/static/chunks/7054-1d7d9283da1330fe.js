"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7054],{19693:function(e,n,r){var t=r(98732),s=r(85893),i=r(67294),a=r(98203),l=r(51561),c=r(204),o=r(7754),d=r(23100),u=r(88494),m=r(71911),h=r(98067),f=r(21794);n.Z=function(e){var n,r,x,g,v,j=e.nft,p=(0,t._)((0,i.useState)(0),2),b=p[0],N=p[1],y=(0,i.useRef)(null),_=function(e){if(y){var n;null===(n=y.current)||void 0===n||n.swiper.slideTo(e)}};return j.nfts?(0,s.jsxs)(c.k,{className:"bundle-images-container",flexDir:"column",width:"100%",children:[(0,s.jsx)("div",{className:"card-img-container",children:(0,s.jsxs)(u.tq,{ref:y,navigation:!0,modules:[m.W_,m.Rv,m.o3],className:"mySwiper",onSlideChange:function(e){return N(e.activeIndex)},value:3,children:[(0,s.jsx)(o.M,{className:"index-counter",children:"".concat(b+1," of ").concat(null===(n=j.nfts)||void 0===n?void 0:n.length)}),j.nfts.map(function(e){return(0,s.jsx)(u.o5,{children:(0,s.jsx)(c.k,{className:"main-image",flexDir:"column",children:(0,s.jsx)(a.yZ,{image:f.Z.translate((0,l.o1)(e.address,e.image)).convert(),video:null!==(x=null!==(r=e.video)&&void 0!==r?r:e.animationUrl)&&void 0!==x?x:e.animation_url,videoProps:{height:"auto",autoPlay:!0},thumbnail:e.video||e.animationUrl||e.animation_url?f.Z.translate(null!==(v=null!==(g=e.video)&&void 0!==g?g:e.animationUrl)&&void 0!==v?v:e.animation_url).thumbnail():void 0,title:e.name,usePlaceholder:!0,className:"img-fluid img-rounded mb-sm-30"})})},e.id)})]})}),(0,s.jsx)(c.k,{className:"image-menu",padding:"8px",children:(0,s.jsx)(c.k,{children:j.nfts.map(function(e,n){return(0,s.jsx)(d.xu,{className:b===n?"active":"",w:"72px",marginRight:"16px",onClick:function(){_(n)},children:(0,s.jsx)(a.Fn,{source:f.Z.translate((0,l.o1)(e.address,e.image)).fixedWidth(100,100),fallbackSource:f.Z.translate(f.Z.translate(e.image).thumbnail()).fixedWidth(100,100),title:e.name,className:"img-fluid img-rounded mb-sm-30"})},e.id)})})})]}):(0,s.jsx)(a.yZ,{image:(0,h.W)(),title:j.name,className:"img-fluid img-rounded mb-sm-30"})}},48909:function(e,n,r){r.d(n,{Z:function(){return T}});var t=r(30137),s=r(98732),i=r(70655),a=r(85893),l=r(67294),c=r(27977),o=r(77267),d=r(36968),u=r(14416),m=r(35553),h=r(44498);r(12800);var f=r(22920),x=r(51468),g=r(79790),v=r(69301);r(37295),r(4320);var j=r(55637),p=r(64487),b=r(9296),N=r(49460),y=r(13935),_=r(72360),k=r(98203),C=r(51561),w=r(92752),Z=r(31963),S=r(31948),I=r(44504),O=r(55819),A=r(73793),F=r(47018),E=r(19669),P=r(12324),R=r(19693);(0,v.eG)();var L=/^[1-9]+[0-9]*$/;function T(e){var n,r,v,T,U,G,M,z=e.isOpen,B=e.initialNft,H=e.onClose,W=e.nftId,D=e.nftAddress,V=(0,u.v9)(function(e){return e.user.address}),q=(0,s._)((0,l.useState)(B),2),J=q[0],Q=q[1],$=(0,s._)((0,l.useState)(null),2),K=$[0],X=$[1],Y=(0,s._)((0,l.useState)(0),2),ee=Y[0],en=Y[1],er=(0,s._)((0,l.useState)(!1),2),et=er[0],es=er[1],ei=(0,s._)((0,l.useState)(null),2),ea=ei[0],el=ei[1],ec=(0,s._)((0,l.useState)(0),2),eo=ec[0],ed=ec[1],eu=(0,s._)((0,l.useState)(!0),2),em=eu[0],eh=eu[1],ef=(0,s._)((0,l.useState)(!1),2),ex=ef[0],eg=ef[1],ev=(0,s._)((0,l.useState)(!1),2),ej=ev[0],ep=ev[1],eb=(0,j.i)(),eN=(0,u.v9)(function(e){return e.user}),ey=eN.contractService,e_=function(e){return parseInt(ee)>0&&(Number(e)-ee)/ee*100>25},ek=(0,l.useCallback)(function(e){var n=e.target.value.toString();(L.test(n)||""===n)&&X(n)},[X,ee,K]),eC=(0,l.useCallback)(function(e){if(!ex&&!ej){var n=Math.round(ee*(1+e));X(n),e_(n)&&ep(!1)}});(0,l.useEffect)(function(){function e(){return(e=(0,t._)(function(){return(0,i.__generator)(this,function(e){switch(e.label){case 0:return[4,ew()];case 1:return e.sent(),[2]}})})).apply(this,arguments)}eN.provider&&(J||W)&&D&&function(){e.apply(this,arguments)}()},[eN.provider,J,W,D]);var ew=(n=(0,t._)(function(){var e,n,r,t,s,a,l,c,o,d;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(i.trys.push([0,6,,7]),eh(!0),es(null),n=J,J)return[3,2];return[4,(0,y.y)(D,W)];case 1:n=(r=i.sent()).nft,Q(r.nft),i.label=2;case 2:return[4,(0,P._N)(D)];case 3:return(t=i.sent()).multiToken?en(null!==(s=t.stats.total.floorPrice)&&void 0!==s?s:0):en(null!==(a=t.stats.total.floorPrice)&&void 0!==a?a:0),[4,(0,b._s)(null!==(l=n.address)&&void 0!==l?l:n.nftAddress,null!==(c=n.id)&&void 0!==c?c:n.nftId,V)];case 4:return el(null===(e=i.sent().data)||void 0===e?void 0:e.find(function(e){return e.state.toString()===N.bH.ACTIVE.toString()})),[4,(0,_.g)(D,null!==(o=n.id)&&void 0!==o?o:n.nftId)];case 5:return ed(i.sent()),eh(!1),[3,7];case 6:return(d=i.sent()).data?f.Am.error(d.data.message):d.message?f.Am.error(d.message):f.Am.error("Unknown Error"),console.log(d),[3,7];case 7:return[2]}})}),function(){return n.apply(this,arguments)}),eZ=(r=(0,t._)(function(e){var n,r,t,s,a,l,c,o;return(0,i.__generator)(this,function(i){switch(i.label){case 0:if(e.preventDefault(),!eI())return[2];i.label=1;case 1:if(i.trys.push([1,7,8,9]),n=m.parseEther(K.toString()),eg(!0),p.eN({message:"handleCreateOffer",extra:{address:D,price:n}}),r=ey.offer,!ea)return[3,3];return s=parseInt(K)-parseInt(ea.price),[4,r.updateOffer(ea.hash,ea.offerIndex,{value:m.parseEther(s.toString())})];case 2:return t=i.sent(),[3,5];case 3:return[4,r.makeOffer(null!==(a=J.address)&&void 0!==a?a:J.nftAddress,null!==(l=J.id)&&void 0!==l?l:J.nftId,{value:m.parseEther(K.toString())})];case 4:t=i.sent(),i.label=5;case 5:return[4,t.wait()];case 6:return c=i.sent(),f.Am.success((0,g.aS)(c.transactionHash)),eg(!1),H(),[3,9];case 7:return(o=i.sent()).data?f.Am.error(o.data.message):o.message?f.Am.error(o.message):f.Am.error("Unknown Error"),[3,9];case 8:return eg(!1),[7];case 9:return[2]}})}),function(e){return r.apply(this,arguments)}),eS=(v=(0,t._)(function(e){return(0,i.__generator)(this,function(n){switch(n.label){case 0:if(!eI())return[2];if(!e_(K))return[3,1];return ep(!0),[3,3];case 1:return[4,eZ(e)];case 2:n.sent(),n.label=3;case 3:return[2]}})}),function(e){return v.apply(this,arguments)}),eI=function(){return!K||1>parseInt(K)?(es("Value must be greater than zero"),!1):K.toString().length>18?(es("Value must not exceed 18 digits"),!1):ea&&parseInt(K)<=parseInt(ea.price)?(es("Offer must be greater than previous offer"),!1):(es(null),!0)};return D?(0,a.jsxs)(w.u_,{onClose:H,isOpen:z,size:"2xl",isCentered:!0,children:[(0,a.jsx)(Z.Z,{}),(0,a.jsx)(S.h,{children:em?(0,a.jsx)(x.Z,{children:(0,a.jsx)(d.Z,{animation:"border",role:"status",size:"sm",className:"ms-1",children:(0,a.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.x,{className:"text-center",children:J?(0,a.jsx)(a.Fragment,{children:ea?(0,a.jsxs)(a.Fragment,{children:["Update Offer on ",J.name]}):(0,a.jsxs)(a.Fragment,{children:["Offer on ",J.name]})}):(0,a.jsx)(a.Fragment,{children:ea?(0,a.jsx)(a.Fragment,{children:"Update Offer"}):(0,a.jsx)(a.Fragment,{children:"Make Offer"})})}),(0,a.jsx)(O.o,{color:(0,E.gh)(eN.theme).colors.textColor4}),(0,a.jsx)(A.f,{children:(0,a.jsxs)("div",{className:"nftSaleForm row gx-3",children:[(0,a.jsx)("div",{className:"col-12 col-sm-6 mb-2 mb-sm-0",children:(0,g.w_)(null!==(T=J.address)&&void 0!==T?T:J.nftAddress)?(0,a.jsx)(R.Z,{nft:J}):(0,a.jsx)(k.yZ,{image:(0,C.o1)(null!==(U=J.address)&&void 0!==U?U:J.nftAddress,J.image),video:null!==(G=J.video)&&void 0!==G?G:J.animation_url,videoProps:{height:"auto",autoPlay:!0},title:J.name,usePlaceholder:!1,className:"img-fluid img-rounded"})}),(0,a.jsxs)("div",{className:"col-12 col-sm-6",children:[ea&&(0,a.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,a.jsx)(o.Z.Label,{className:"formLabel",children:"Previous Offer:"}),(0,a.jsxs)("div",{children:[ea.price," CRO"]})]}),(0,a.jsxs)(o.Z.Group,{className:"form-field",children:[(0,a.jsx)(o.Z.Label,{className:"formLabel w-100",children:(0,a.jsxs)("div",{className:"d-flex",children:[(0,a.jsx)("div",{className:"flex-grow-1",children:"Offer Amount"}),(0,a.jsx)("div",{className:"my-auto",children:(0,a.jsxs)(c.Z,{pill:!0,bg:"dark"===eN.theme?"light":"secondary",text:"dark"===eN.theme?"dark":"light",className:"ms-2",children:["Floor: ",ee," CRO"]})})]})}),(0,a.jsx)(o.Z.Control,{className:"input",type:"number",placeholder:"Enter Amount",value:null!=K?K:"",onChange:ek,disabled:ej||ex}),(0,a.jsx)(o.Z.Text,{className:"field-description textError",children:et})]}),(0,a.jsxs)("div",{className:"d-flex flex-wrap justify-content-between mb-3",children:[eb.width>377&&(0,a.jsx)(c.Z,{bg:"danger",text:"light",className:"cursor-pointer my-1 d-sm-none d-md-block",onClick:function(){return eC(-.25)},children:"-25%"}),(0,a.jsx)(c.Z,{bg:"danger",text:"light",className:"cursor-pointer my-1",onClick:function(){return eC(-.1)},children:"-10%"}),(0,a.jsx)(c.Z,{bg:"dark"===eN.theme?"light":"secondary",text:"dark"===eN.theme?"dark":"light",className:"cursor-pointer my-1",onClick:function(){return eC(0)},children:"Floor"}),(0,a.jsx)(c.Z,{bg:"success",text:"light",className:"cursor-pointer my-1",onClick:function(){return eC(.1)},children:"+10%"}),eb.width>377&&(0,a.jsx)(c.Z,{bg:"success",text:"light",className:"cursor-pointer my-1 d-sm-none d-md-block",onClick:function(){return eC(.25)},children:"+25%"})]}),(0,a.jsx)("div",{className:"text-center my-3",style:{fontSize:"14px"},children:"Offer amount will be held in escrow until the offer is either accepted, rejected, or cancelled"}),!(0,g.w_)(null!==(M=J.address)&&void 0!==M?M:J.nftAddress)&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"feeTitle",children:"Fees"}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"fee",children:[(0,a.jsx)("span",{children:"Royalty Fee: "}),(0,a.jsxs)("span",{children:[eo," %"]})]})]})]})]})}),(0,a.jsx)(F.m,{className:"border-0",children:(0,a.jsx)("div",{className:"w-100",children:ej?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"alert alert-danger my-auto mb-2 fw-bold text-center",children:["The desired price is ",(100-100*ee/K).toFixed(1),"% above the current floor price of ",ee," CRO. Are you sure?"]}),ex&&(0,a.jsx)("div",{className:"mb-2 text-center fst-italic",children:"Please check your wallet for confirmation"}),(0,a.jsxs)("div",{className:"d-flex w-100",children:[(0,a.jsx)(h.Z,{type:"legacy",onClick:function(){return ep(!1)},className:"me-2 flex-fill",children:"Go Back"}),(0,a.jsx)(h.Z,{type:"legacy-outlined",onClick:eZ,isLoading:ex,disabled:ex,className:"flex-fill",children:"I understand, continue"})]})]}):(0,a.jsxs)(a.Fragment,{children:[ex&&(0,a.jsx)("div",{className:"mb-2 text-center fst-italic",children:(0,a.jsx)("small",{children:"Please check your wallet for confirmation"})}),(0,a.jsx)("div",{className:"d-flex",children:(0,a.jsx)(h.Z,{type:"legacy",onClick:eS,isLoading:ex,disabled:ex,className:"flex-fill",children:"Confirm Offer"})})]})})})]})})]}):(0,a.jsx)(a.Fragment,{})}},51468:function(e,n,r){r.d(n,{Z:function(){return l}});var t=r(37340),s=r(85893);function i(){var e=(0,t._)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 100px;\n"]);return i=function(){return e},e}r(67294);var a=r(186).ZP.div.withConfig({componentId:"sc-4785ba8a-0"})(i());function l(e){var n=e.children;return(0,s.jsx)(a,{children:n})}},58370:function(e,n,r){r.d(n,{NI:function(){return I},v2:function(){return g},ZN:function(){return m},u_:function(){return k}});var t=r(85893),s=r(67294),i=r(67814);r(82689);var a=r(89076),l=r(53948),c=r(44416),o=r(20623),d=r(19669),u=r(14416),m=function(e){var n=e.children,r=e.options,m=(0,u.v9)(function(e){return e.user.theme});return(0,t.jsxs)(a.J,{children:[(0,t.jsx)(l.x,{children:s.cloneElement(n)}),(0,t.jsx)(c.y,{maxH:"260px",overflow:"auto",width:"240px",bg:(0,d.gh)(m).colors.bgColor1,children:(0,t.jsx)(o.b,{p:"0",children:(0,t.jsx)("div",{className:"social_media_popup",children:(0,t.jsx)("ul",{children:(void 0===r?[]:r).map(function(e){return"url"===e.type?(0,t.jsx)("a",{href:"".concat(e.url).concat(window.location),target:"_blank",children:(0,t.jsxs)("li",{children:[(0,t.jsx)("div",{className:"icon_container",children:(0,t.jsx)(i.G,{icon:e.icon,style:{height:28}})}),(0,t.jsx)("div",{className:"label_container",children:(0,t.jsx)("span",{children:e.label})})]},e.label)}):(0,t.jsxs)("li",{onClick:e.handleClick,children:[(0,t.jsx)("div",{className:"icon_container",children:(0,t.jsx)(i.G,{icon:e.icon,style:{height:28}})}),(0,t.jsx)("div",{className:"label_container",children:(0,t.jsx)("span",{children:e.label})})]},e.label)})})})})})]})},h=r(99292),f=r(87626),x=r(31956),g=function(e){var n=e.MenuButton,r=e.MenuItems,s=(0,u.v9)(function(e){return e.user.theme});return(0,t.jsxs)(h.v,{bg:(0,d.gh)(s).colors.bgColor1,children:[n,(0,t.jsx)(f.q,{bg:(0,d.gh)(s).colors.bgColor1,zIndex:2,children:(void 0===r?[]:r).map(function(e,n){return(0,t.jsx)(x.s,{children:e},n)})})]})},v=r(92752),j=r(31963),p=r(31948),b=r(44504),N=r(55819),y=r(73793),_=r(47018);function k(e){var n=e.title,r=e.body,s=e.dialogActions,i=e.isOpen,a=e.onClose,l=(0,u.v9)(function(e){return e.user});return(0,t.jsxs)(v.u_,{isCentered:!0,onClose:a,isOpen:i,children:[(0,t.jsx)(j.Z,{}),(0,t.jsxs)(p.h,{children:[(0,t.jsx)(b.x,{className:"text-center",children:n}),(0,t.jsx)(N.o,{color:(0,d.gh)(l.theme).colors.textColor4}),(0,t.jsx)(y.f,{children:r}),(0,t.jsx)(_.m,{className:"border-0",children:s})]})]})}var C=r(38267),w=r(5370),Z=r(28129),S=r(8399),I=function(e){var n=e.name,r=e.type,s=e.label,i=e.value,a=e.error,l=e.touched,c=e.helperText,o=e.onChange,d=e.onBlur,u=e.disabled;return(0,t.jsxs)(C.NI,{id:n,name:n,isInvalid:a&&l,children:[(0,t.jsx)(w.l,{children:s}),(0,t.jsx)(Z.I,{type:r,name:n,onChange:o,onBlur:d,value:i,disabled:void 0!==u&&u}),a&&l?(0,t.jsx)(S.J1,{children:a}):(0,t.jsx)(C.Q6,{children:void 0===c?"":c})]})}},72360:function(e,n,r){r.d(n,{g:function(){return u}});var t=r(30137),s=r(70655),i=r(2877),a=r(64146),l=r(4320),c=(0,r(69301).eG)(),o=new i.r(c.rpc.read),d=new a.CH(c.contracts.market,l.Mt,o);function u(e,n){return m.apply(this,arguments)}function m(){return(m=(0,t._)(function(e,n){return(0,s.__generator)(this,function(r){switch(r.label){case 0:if(r.trys.push([0,4,,5]),n)return[3,2];return[4,d.getRoyalty(e)];case 1:return[2,r.sent().percent/100];case 2:return[4,d.calculateRoyalty(e,n,1e3)];case 3:return[2,Number(r.sent())/10];case 4:return console.log("error retrieving royalties for collection",r.sent()),[2,0];case 5:return[2]}})})).apply(this,arguments)}}}]);